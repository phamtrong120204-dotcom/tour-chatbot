<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Ph·∫°m Tr·ªçng ‚Äì Chatbot T∆∞ v·∫•n Tour</title>
<link rel="stylesheet" href="style.css">
</head>

<body>
<div class="wrap">

  <div class="top">
    <div class="brand">Ph·∫°m Tr·ªçng ‚Äì T∆∞ v·∫•n Tour</div>
    <div class="sub">Chatbot h·ªó tr·ª£ th√¥ng tin & ch√≠nh s√°ch tour</div>
  </div>

  <div id="chat" class="chat"></div>

  <form id="form" class="bar">
    <input id="input" placeholder="Nh·∫≠p c√¢u h·ªèi c·ªßa b·∫°n..." autocomplete="off">
    <button>G·ª≠i</button>
  </form>

  <div class="input-note">
    ‚ö†Ô∏è Chatbot ch·ªâ h·ªó tr·ª£ t∆∞ v·∫•n th√¥ng tin.  
    ƒê·ªÉ ƒë·∫∑t ho·∫∑c hu·ª∑ tour, vui l√≤ng li√™n h·ªá tr·ª±c ti·∫øp.
  </div>

  <div class="foot">
    Zalo: 077.4546.748 ‚Ä¢ Facebook: pm.trogn
  </div>
</div>

<script>
const API_URL = "https://tour-chatbot-api.vercel.app/api/chat";
const chat = document.getElementById("chat");
const form = document.getElementById("form");
const input = document.getElementById("input");

function addMsg(text, type){
  const div = document.createElement("div");
  div.className = "msg " + (type === "user" ? "me" : "bot");
  div.textContent = text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

addMsg(
  "Xin ch√†o üëã M√¨nh l√† chatbot t∆∞ v·∫•n tour R·ª´ng D·ª´a B·∫£y M·∫´u. Anh/ch·ªã c·∫ßn m√¨nh h·ªó tr·ª£ th√¥ng tin g√¨ ·∫°?",
  "bot"
);

form.addEventListener("submit", async e=>{
  e.preventDefault();
  const msg = input.value.trim();
  if(!msg) return;

  addMsg(msg, "user");
  input.value = "";

  const res = await fetch(API_URL, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ message: msg })
  });

  const data = await res.json();
  addMsg(data.reply || "M√¨nh ch∆∞a hi·ªÉu r√µ, anh/ch·ªã c√≥ th·ªÉ h·ªèi l·∫°i gi√∫p m√¨nh nh√©.", "bot");
});
</script>
</body>
</html>
